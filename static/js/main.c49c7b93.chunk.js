(this.webpackJsonpegelados=this.webpackJsonpegelados||[]).push([[0],[,,,,function(e,t,a){e.exports={button:"map-controls_button__1GkPL",active:"map-controls_active__nKchH"}},,function(e,t,a){e.exports={header:"header_header__3W_Vl",headerWrapper:"header_headerWrapper__1rzUj",logo:"header_logo__1xPf6",logoImage:"header_logoImage__2fRBo"}},,,function(e,t,a){e.exports={footerCopy:"footer_footerCopy__1rj_s",creator:"footer_creator__18kBz",attribution:"footer_attribution__2CwSB"}},,,function(e,t,a){e.exports={layout:"layout_layout__2VB0u",layoutContent:"layout_layoutContent__2LtOd"}},,,function(e,t,a){e.exports={popup:"map-layer_popup__19KZ8",popupClose:"map-layer_popupClose__2symH"}},,,,,,function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(7),o=a.n(r),s=(a(21),a(3));var i=function(e,t){var a=Object(c.useState)((function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(c){return console.log(c),t}})),n=Object(s.a)(a,2),r=n[0],o=n[1];return[r,function(t){try{var a=t instanceof Function?t(r):t;o(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(c){console.log(c)}}]},l=a(6),j=a.n(l),u=a(0),d=function(){return Object(u.jsx)("header",{className:j.a.header,children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:j.a.headerWrapper,children:Object(u.jsxs)("a",{href:"/egelados",className:j.a.logo,children:[Object(u.jsx)("img",{src:"".concat("/egelados","/images/logo.png"),alt:"",className:j.a.logoImage,width:"32",height:"32"}),Object(u.jsx)("span",{className:"font-heading",children:"Egelados"})]})})})})},b=a(9),p=a.n(b),h=function(){return Object(u.jsx)("footer",{children:Object(u.jsxs)("div",{className:"".concat(p.a.footerCopy," container"),children:[Object(u.jsxs)("p",{className:p.a.creator,children:["Made by Dimi -"," ",Object(u.jsx)("a",{href:"https://github.com/takaras/egelados",target:"_blank",rel:"noopener noreferrer",children:"Project code (Github)"})]}),Object(u.jsxs)("p",{className:p.a.attribution,children:["Icons made by"," ",Object(u.jsx)("a",{href:"https://www.freepik.com",target:"_blank",rel:"noopener noreferrer",children:"Freepik"})," ","from"," ",Object(u.jsx)("a",{href:"https://www.flaticon.com/",target:"_blank",rel:"noopener noreferrer",children:"www.flaticon.com"})]})]})})},m=a(12),O=a.n(m),f=function(e){var t=e.children;return Object(u.jsxs)("div",{className:O.a.layout,children:[Object(u.jsx)(d,{}),Object(u.jsx)("main",{className:O.a.layoutContent,children:t}),Object(u.jsx)(h,{})]})},x=a(5),_=a(15),g=a.n(_),v=function(e){var t=e.features,a=Object(c.useState)(!1),n=Object(s.a)(a,2),r=n[0],o=n[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x.b,{type:"circle",paint:{"circle-color":["interpolate",["linear"],["*",["get","mag"],1e3],1e3,"#FFBA08",2e3,"#F48C06",3e3,"#E85D04",4e3,"#DC2F02",5e3,"#D00000",6e3,"#9D0208",7e3,"#6A040F",8e3,"#370617"],"circle-radius":["interpolate",["linear"],["zoom"],1,["*",["ceil",["get","mag"]],1.5],4,["*",["ceil",["get","mag"]],3],8,8]},children:t.map((function(e){return Object(u.jsx)(x.a,{coordinates:e.geometry.coordinates,properties:e.properties,onClick:function(t){return function(e,t){t.originalEvent.preventDefault(),o(e)}(e,t)}},e.id)}))}),r&&Object(u.jsxs)(x.c,{coordinates:r.geometry.coordinates,className:g.a.popup,children:[Object(u.jsx)("div",{children:r.properties.place}),Object(u.jsxs)("div",{children:["Magnitude: ",r.properties.mag]}),Object(u.jsx)("div",{children:Object(u.jsx)("a",{href:r.properties.url,target:"_blank",rel:"noopener noreferrer",children:"More info"})}),Object(u.jsx)("button",{type:"button",className:"".concat(g.a.popupClose," no-btn"),onClick:function(e){return function(e){var t;(null===e||void 0===e||null===(t=e.originalEvent)||void 0===t?void 0:t.defaultPrevented)||o(!1)}(e)},children:Object(u.jsx)("span",{className:"visually-hidden",children:"Close popup"})})]},"popup".concat(r.id))]})},y=(a(16),a(26),Object(x.f)({minZoom:0,maxZoom:15,accessToken:"pk.eyJ1IjoidGFrYXJhcyIsImEiOiJja3Vtemdlemwwb2J4MnV0aHdkNXZpbm1jIn0.agG7_Nx_UOSrcg_wIotFHQ"})),k=function(e){var t=e.features,a={zoom:[1],center:[13.404954,52.520008]};return Object(u.jsx)("div",{className:"map",children:Object(u.jsxs)(y,{style:"mapbox://styles/takaras/ckulabfkletrm17o4wpio0z28",zoom:a.zoom,center:a.center,containerStyle:{height:"68vh",width:"100%"},children:[Object(u.jsx)(x.e,{}),Object(u.jsx)(x.d,{}),Object(u.jsx)(v,{features:t})]})})},N=a(4),w=a.n(N),C=function(e){var t=e.active,a=e.changeTimespan;return Object(u.jsxs)("div",{className:"mapControls",children:[Object(u.jsx)("button",{type:"button",className:"".concat(w.a.button," btn ").concat("all_hour"===t?w.a.active:""),onClick:function(){return a("all_hour")},children:"past hour"}),Object(u.jsx)("button",{type:"button",className:"".concat(w.a.button," btn ").concat("all_day"===t?w.a.active:""),onClick:function(){return a("all_day")},children:"past day"}),Object(u.jsx)("button",{type:"button",className:"".concat(w.a.button," btn ").concat("all_week"===t?w.a.active:""),onClick:function(){return a("all_week")},children:"past week"}),Object(u.jsx)("button",{type:"button",className:"".concat(w.a.button," btn ").concat("all_month"===t?w.a.active:""),onClick:function(){return a("all_month")},children:"past month"})]})},S=(a(27),function(){return Object(u.jsx)("div",{className:"mapLoader",children:Object(u.jsxs)("div",{className:"lds-spinner",children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{})]})})}),I=function(){var e,t=Object(c.useState)(!0),a=Object(s.a)(t,2),n=a[0],r=a[1],o=Object(c.useState)(!1),l=Object(s.a)(o,2),j=l[0],d=l[1],b=i("timespan","all_hour"),p=Object(s.a)(b,2),h=p[0],m=p[1],O=Object(c.useState)(0),x=Object(s.a)(O,2),_=x[0],g=x[1],v=Object(c.useState)([]),y=Object(s.a)(v,2),N=y[0],w=y[1];if(Object(c.useEffect)((function(){r(!0);var e="https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/".concat(h,".geojson");fetch(e).then((function(e){return e.json()})).then((function(e){r(!1),200===e.metadata.status?(w(e.features),g(e.metadata.count)):d(!0)})).catch((function(e){d(!0),r(!1)}))}),[h]),j)return Object(u.jsxs)(f,{children:[Object(u.jsx)("p",{children:"The data are currently not available."}),Object(u.jsxs)("p",{children:["Please ",Object(u.jsx)("a",{href:"/egelados",children:"try again"}),"."]})]});switch(h){case"all_day":e="24 hours";break;case"all_week":e="7 days";break;case"all_month":e="30 days";break;default:e="hour"}return Object(u.jsx)(f,{children:Object(u.jsxs)("div",{className:"container",children:[n?Object(u.jsx)(S,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("p",{style:{marginBottom:"0.8rem"},children:[_>0?_:"No"," earthquakes in the past ",e]}),Object(u.jsx)(k,{features:N})]}),Object(u.jsx)(C,{active:h,changeTimespan:m})]})})};o.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(I,{})}),document.getElementById("root"))}],[[28,1,2]]]);
//# sourceMappingURL=main.c49c7b93.chunk.js.map